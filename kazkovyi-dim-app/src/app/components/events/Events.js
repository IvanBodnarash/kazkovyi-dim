// "use client";

import EventCard from "../cards/EventCard";
// import { useState } from "react";
import EventDetails from "../ui/EventDetails";
import { motion, AnimatePresence } from "motion/react";
// import useDisableBodyScroll from "@/app/hooks/useDisableBodyScroll";
import { fetchEvents } from "@/app/utils/fetchEvents";
import { client } from "@/sanity/client";
import imageUrlBuilder from "@sanity/image-url";

export default async function Events() {
  // const [showDetailsModal, setShowDetailsModal] = useState(false);
  // const [selectedData, setSelectedData] = useState({});
  // const [eventsData, setEventsData] = useState([]);

  // const events = useLoadEvents();
  // console.log(events);

  // const { projectId, dataset } = client.config();
  // const urlFor = (source) =>
  //   projectId && dataset
  //     ? imageUrlBuilder({ projectId, dataset }).image(source)
  //     : null;

  const events = await fetchEvents();

  console.log(events);

  // useDisableBodyScroll(showDetailsModal);

  const cardsData = [
    {
      img: "https://placehold.co/400",
      title: "Title1",
      description:
        "Some description for placeholder 1. –ö–∞–∑–∫–æ–≤–∏–π –î—ñ–ºü§ç @kazkovyidim.cv –°–∫—ñ–ª—å–∫–∏ –ª—é–±–æ–≤—ñ, —Ç–µ–ø–ª–∞ —Ç–∞ —Å–≤—ñ—Ç–ª–∞ –≤ –æ–¥–Ω—ñ–π –ª–∏—à–µ –Ω–∞–∑–≤—ñ. –ù–∞–∑–≤–∞, —è–∫—É –Ω–µ –ø–æ—Ç—Ä—ñ–±–Ω–æ –±—É–ª–æ –¥–æ–≤–≥–æ —à—É–∫–∞—Ç–∏, —ó—ó –æ–¥—Ä–∞–∑—É –≤—ñ–¥—á—É–ª–∞ –≤—Å–µ—Ä–µ–¥–∏–Ω—ñ, –≤ –¥—É—à—ñ —Ç–∞ —Å–µ—Ä—Ü—ñ. –ú–æ—è —Ä–æ–±–æ—Ç–∞, –º–æ—è —É–ª—é–±–ª–µ–Ω–∞ —Å–ø—Ä–∞–≤–∞,—Ü—è –ø—Ä–µ–∫—Ä–∞—Å–Ω–∞ —Å—Ñ–µ—Ä–∞ –π –Ω–∞—à–∞ –∫–æ–º–∞–Ω–¥–∞ –Ω–µ–π–º–æ–≤—ñ—Ä–Ω–∏—Ö —á–∞—Ä—ñ–≤–Ω–∏–∫—ñ–≤ - —Ü–µ —Ç–µ, —â–æ —Å—Ç–∞–ª–æ –Ω–µ–≤—ñ–¥‚Äò—î–º–Ω–æ—é —á–∞—Å—Ç–∏–Ω–∫–æ—é —Ñ–æ—Ä–º—É–≤–∞–Ω–Ω—è –º–æ—î—ó –æ—Å–æ–±–∏—Å—Ç–æ—Å—Ç—ñ, —Ç—ñ—î—ó –°–æ—Ñ–∏, —è–∫–æ—é —è —î –∑–∞—Ä–∞–∑ - –Ω–∞–ø–æ–≤–Ω–µ–Ω–æ—ó –ª—é–±–æ–≤‚Äò—é, –¥–æ–±—Ä–æ–º —Ç–∞ —Å–≤—ñ—Ç–ª–æ–º –¥–æ –≤—Å—å–æ–≥–æ —Å–≤—ñ—Ç—É, –∑–∞–≤–∂–¥–∏ –∑ –≤—ñ—Ä–æ—é —É –Ω–∞–π–∫—Ä–∞—â–µ, –∑ –≤—ñ—Ä–æ—é —É –∑–¥—ñ–π—Å–Ω–µ–Ω–Ω—è —É—Å—ñ—Ö –º—Ä—ñ–π, –°–æ—Ñ–∏, —è–∫–∞ –±–µ–∑–º–µ–∂–Ω–æ, –≤—Å—ñ–º —Å–µ—Ä—Ü–µ–º –ª—é–±–∏—Ç—å –¥—ñ—Ç–æ–∫, –≤ –∫–æ–º–ø–∞–Ω—ñ—ó –∑ —è–∫–∏–º–∏ –≤—ñ–¥—á—É–≤–∞—î —Å–µ–±–µ ¬´–≤–¥–æ–º–∞¬ªü´Çüè° –ü–æ–ø–µ—Ä–µ–¥—É —â–µ —Ç–∞–∫ –±–∞–≥–∞—Ç–æ –ø—Ä–µ–∫—Ä–∞—Å–Ω–æ–≥–æ –π –Ω–æ–≤–æ–≥–æ: —Ä–æ–∑–≤–∏—Ç–∫—É, —ñ–¥–µ–π, –Ω–∞–≤—á–∞–Ω–Ω—è, –Ω–∞—Ç—Ö–Ω–µ–Ω–Ω—è, —Ü—ñ–ª–µ–π.",
    },
    {
      img: "https://placehold.co/400",
      title: "Title2",
      description:
        "Some description for placeholder 2. –ö–∞–∑–∫–æ–≤–∏–π –î—ñ–ºü§ç @kazkovyidim.cv –°–∫—ñ–ª—å–∫–∏ –ª—é–±–æ–≤—ñ, —Ç–µ–ø–ª–∞ —Ç–∞ —Å–≤—ñ—Ç–ª–∞ –≤ –æ–¥–Ω—ñ–π –ª–∏—à–µ –Ω–∞–∑–≤—ñ. –ù–∞–∑–≤–∞, —è–∫—É –Ω–µ –ø–æ—Ç—Ä—ñ–±–Ω–æ –±—É–ª–æ –¥–æ–≤–≥–æ —à—É–∫–∞—Ç–∏, —ó—ó –æ–¥—Ä–∞–∑—É –≤—ñ–¥—á—É–ª–∞ –≤—Å–µ—Ä–µ–¥–∏–Ω—ñ, –≤ –¥—É—à—ñ —Ç–∞ —Å–µ—Ä—Ü—ñ. –ú–æ—è —Ä–æ–±–æ—Ç–∞, –º–æ—è —É–ª—é–±–ª–µ–Ω–∞ —Å–ø—Ä–∞–≤–∞,—Ü—è –ø—Ä–µ–∫—Ä–∞—Å–Ω–∞ —Å—Ñ–µ—Ä–∞ –π –Ω–∞—à–∞ –∫–æ–º–∞–Ω–¥–∞ –Ω–µ–π–º–æ–≤—ñ—Ä–Ω–∏—Ö —á–∞—Ä—ñ–≤–Ω–∏–∫—ñ–≤ - —Ü–µ —Ç–µ, —â–æ —Å—Ç–∞–ª–æ –Ω–µ–≤—ñ–¥‚Äò—î–º–Ω–æ—é —á–∞—Å—Ç–∏–Ω–∫–æ—é —Ñ–æ—Ä–º—É–≤–∞–Ω–Ω—è –º–æ—î—ó –æ—Å–æ–±–∏—Å—Ç–æ—Å—Ç—ñ, —Ç—ñ—î—ó –°–æ—Ñ–∏, —è–∫–æ—é —è —î –∑–∞—Ä–∞–∑ - –Ω–∞–ø–æ–≤–Ω–µ–Ω–æ—ó –ª—é–±–æ–≤‚Äò—é, –¥–æ–±—Ä–æ–º —Ç–∞ —Å–≤—ñ—Ç–ª–æ–º –¥–æ –≤—Å—å–æ–≥–æ —Å–≤—ñ—Ç—É, –∑–∞–≤–∂–¥–∏ –∑ –≤—ñ—Ä–æ—é —É –Ω–∞–π–∫—Ä–∞—â–µ, –∑ –≤—ñ—Ä–æ—é —É –∑–¥—ñ–π—Å–Ω–µ–Ω–Ω—è —É—Å—ñ—Ö –º—Ä—ñ–π, –°–æ—Ñ–∏, —è–∫–∞ –±–µ–∑–º–µ–∂–Ω–æ, –≤—Å—ñ–º —Å–µ—Ä—Ü–µ–º –ª—é–±–∏—Ç—å –¥—ñ—Ç–æ–∫, –≤ –∫–æ–º–ø–∞–Ω—ñ—ó –∑ —è–∫–∏–º–∏ –≤—ñ–¥—á—É–≤–∞—î —Å–µ–±–µ ¬´–≤–¥–æ–º–∞¬ªü´Çüè° –ü–æ–ø–µ—Ä–µ–¥—É —â–µ —Ç–∞–∫ –±–∞–≥–∞—Ç–æ –ø—Ä–µ–∫—Ä–∞—Å–Ω–æ–≥–æ –π –Ω–æ–≤–æ–≥–æ: —Ä–æ–∑–≤–∏—Ç–∫—É, —ñ–¥–µ–π, –Ω–∞–≤—á–∞–Ω–Ω—è, –Ω–∞—Ç—Ö–Ω–µ–Ω–Ω—è, —Ü—ñ–ª–µ–π.",
    },
    {
      img: "https://placehold.co/400",
      title: "Title3",
      description:
        "Some description for placeholder 3. –ö–∞–∑–∫–æ–≤–∏–π –î—ñ–ºü§ç @kazkovyidim.cv –°–∫—ñ–ª—å–∫–∏ –ª—é–±–æ–≤—ñ, —Ç–µ–ø–ª–∞ —Ç–∞ —Å–≤—ñ—Ç–ª–∞ –≤ –æ–¥–Ω—ñ–π –ª–∏—à–µ –Ω–∞–∑–≤—ñ. –ù–∞–∑–≤–∞, —è–∫—É –Ω–µ –ø–æ—Ç—Ä—ñ–±–Ω–æ –±—É–ª–æ –¥–æ–≤–≥–æ —à—É–∫–∞—Ç–∏, —ó—ó –æ–¥—Ä–∞–∑—É –≤—ñ–¥—á—É–ª–∞ –≤—Å–µ—Ä–µ–¥–∏–Ω—ñ, –≤ –¥—É—à—ñ —Ç–∞ —Å–µ—Ä—Ü—ñ. –ú–æ—è —Ä–æ–±–æ—Ç–∞, –º–æ—è —É–ª—é–±–ª–µ–Ω–∞ —Å–ø—Ä–∞–≤–∞,—Ü—è –ø—Ä–µ–∫—Ä–∞—Å–Ω–∞ —Å—Ñ–µ—Ä–∞ –π –Ω–∞—à–∞ –∫–æ–º–∞–Ω–¥–∞ –Ω–µ–π–º–æ–≤—ñ—Ä–Ω–∏—Ö —á–∞—Ä—ñ–≤–Ω–∏–∫—ñ–≤ - —Ü–µ —Ç–µ, —â–æ —Å—Ç–∞–ª–æ –Ω–µ–≤—ñ–¥‚Äò—î–º–Ω–æ—é —á–∞—Å—Ç–∏–Ω–∫–æ—é —Ñ–æ—Ä–º—É–≤–∞–Ω–Ω—è –º–æ—î—ó –æ—Å–æ–±–∏—Å—Ç–æ—Å—Ç—ñ, —Ç—ñ—î—ó –°–æ—Ñ–∏, —è–∫–æ—é —è —î –∑–∞—Ä–∞–∑ - –Ω–∞–ø–æ–≤–Ω–µ–Ω–æ—ó –ª—é–±–æ–≤‚Äò—é, –¥–æ–±—Ä–æ–º —Ç–∞ —Å–≤—ñ—Ç–ª–æ–º –¥–æ –≤—Å—å–æ–≥–æ —Å–≤—ñ—Ç—É, –∑–∞–≤–∂–¥–∏ –∑ –≤—ñ—Ä–æ—é —É –Ω–∞–π–∫—Ä–∞—â–µ, –∑ –≤—ñ—Ä–æ—é —É –∑–¥—ñ–π—Å–Ω–µ–Ω–Ω—è —É—Å—ñ—Ö –º—Ä—ñ–π, –°–æ—Ñ–∏, —è–∫–∞ –±–µ–∑–º–µ–∂–Ω–æ, –≤—Å—ñ–º —Å–µ—Ä—Ü–µ–º –ª—é–±–∏—Ç—å –¥—ñ—Ç–æ–∫, –≤ –∫–æ–º–ø–∞–Ω—ñ—ó –∑ —è–∫–∏–º–∏ –≤—ñ–¥—á—É–≤–∞—î —Å–µ–±–µ ¬´–≤–¥–æ–º–∞¬ªü´Çüè° –ü–æ–ø–µ—Ä–µ–¥—É —â–µ —Ç–∞–∫ –±–∞–≥–∞—Ç–æ –ø—Ä–µ–∫—Ä–∞—Å–Ω–æ–≥–æ –π –Ω–æ–≤–æ–≥–æ: —Ä–æ–∑–≤–∏—Ç–∫—É, —ñ–¥–µ–π, –Ω–∞–≤—á–∞–Ω–Ω—è, –Ω–∞—Ç—Ö–Ω–µ–Ω–Ω—è, —Ü—ñ–ª–µ–π.",
    },
    {
      img: "https://placehold.co/400",
      title: "Title4",
      description:
        "Some description for placeholder 4. –ö–∞–∑–∫–æ–≤–∏–π –î—ñ–ºü§ç @kazkovyidim.cv –°–∫—ñ–ª—å–∫–∏ –ª—é–±–æ–≤—ñ, —Ç–µ–ø–ª–∞ —Ç–∞ —Å–≤—ñ—Ç–ª–∞ –≤ –æ–¥–Ω—ñ–π –ª–∏—à–µ –Ω–∞–∑–≤—ñ. –ù–∞–∑–≤–∞, —è–∫—É –Ω–µ –ø–æ—Ç—Ä—ñ–±–Ω–æ –±—É–ª–æ –¥–æ–≤–≥–æ —à—É–∫–∞—Ç–∏, —ó—ó –æ–¥—Ä–∞–∑—É –≤—ñ–¥—á—É–ª–∞ –≤—Å–µ—Ä–µ–¥–∏–Ω—ñ, –≤ –¥—É—à—ñ —Ç–∞ —Å–µ—Ä—Ü—ñ. –ú–æ—è —Ä–æ–±–æ—Ç–∞, –º–æ—è —É–ª—é–±–ª–µ–Ω–∞ —Å–ø—Ä–∞–≤–∞,—Ü—è –ø—Ä–µ–∫—Ä–∞—Å–Ω–∞ —Å—Ñ–µ—Ä–∞ –π –Ω–∞—à–∞ –∫–æ–º–∞–Ω–¥–∞ –Ω–µ–π–º–æ–≤—ñ—Ä–Ω–∏—Ö —á–∞—Ä—ñ–≤–Ω–∏–∫—ñ–≤ - —Ü–µ —Ç–µ, —â–æ —Å—Ç–∞–ª–æ –Ω–µ–≤—ñ–¥‚Äò—î–º–Ω–æ—é —á–∞—Å—Ç–∏–Ω–∫–æ—é —Ñ–æ—Ä–º—É–≤–∞–Ω–Ω—è –º–æ—î—ó –æ—Å–æ–±–∏—Å—Ç–æ—Å—Ç—ñ, —Ç—ñ—î—ó –°–æ—Ñ–∏, —è–∫–æ—é —è —î –∑–∞—Ä–∞–∑ - –Ω–∞–ø–æ–≤–Ω–µ–Ω–æ—ó –ª—é–±–æ–≤‚Äò—é, –¥–æ–±—Ä–æ–º —Ç–∞ —Å–≤—ñ—Ç–ª–æ–º –¥–æ –≤—Å—å–æ–≥–æ —Å–≤—ñ—Ç—É, –∑–∞–≤–∂–¥–∏ –∑ –≤—ñ—Ä–æ—é —É –Ω–∞–π–∫—Ä–∞—â–µ, –∑ –≤—ñ—Ä–æ—é —É –∑–¥—ñ–π—Å–Ω–µ–Ω–Ω—è —É—Å—ñ—Ö –º—Ä—ñ–π, –°–æ—Ñ–∏, —è–∫–∞ –±–µ–∑–º–µ–∂–Ω–æ, –≤—Å—ñ–º —Å–µ—Ä—Ü–µ–º –ª—é–±–∏—Ç—å –¥—ñ—Ç–æ–∫, –≤ –∫–æ–º–ø–∞–Ω—ñ—ó –∑ —è–∫–∏–º–∏ –≤—ñ–¥—á—É–≤–∞—î —Å–µ–±–µ ¬´–≤–¥–æ–º–∞¬ªü´Çüè° –ü–æ–ø–µ—Ä–µ–¥—É —â–µ —Ç–∞–∫ –±–∞–≥–∞—Ç–æ –ø—Ä–µ–∫—Ä–∞—Å–Ω–æ–≥–æ –π –Ω–æ–≤–æ–≥–æ: —Ä–æ–∑–≤–∏—Ç–∫—É, —ñ–¥–µ–π, –Ω–∞–≤—á–∞–Ω–Ω—è, –Ω–∞—Ç—Ö–Ω–µ–Ω–Ω—è, —Ü—ñ–ª–µ–π.",
    },
  ];

  const lastThreePosts = cardsData.slice(-3);

  return (
    <>
      {/* <div className="mx-auto max-w-screen-xl px-4 pb-8 md:px-6 lg:px-8">
        <div className="mt-4 md:mt-18 lg:mt-14 items-center font-calibri">
          <h1 className="text-2xl md:text-3xl text-center lg:text-start lg:text-4xl font-bold text-white">
            –ù–∞—à—ñ –ø–æ–¥—ñ—ó —Ç–∞ –Ω–æ–≤–∏–Ω–∫–∏
          </h1>
          <div className="flex flex-wrap justify-center mt-8 gap-14">
            {lastThreePosts.map((card, index) => (
              <EventCard
                key={index}
                title={card.title}
                description={card.description}
                img={card.img}
                setShowDetailsModal={setShowDetailsModal}
                setSelectedData={setSelectedData}
              />
            ))}
          </div>
        </div>
      </div>
      <AnimatePresence>
        {showDetailsModal && (
          <motion.div
            initial={{ opacity: 0 }}
            animate={{ opacity: 1 }}
            exit={{ opacity: 0 }}
            transition={{ duration: 0.5 }}
          >
            <EventDetails
              data={selectedData}
              onClose={() => setShowDetailsModal(false)}
            />
          </motion.div>
        )}
      </AnimatePresence> */}
    </>
  );
}
